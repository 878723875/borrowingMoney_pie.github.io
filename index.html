<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>缓进急展——筹借军饷</title>
    <!-- 引入刚刚下载的 ECharts 文件 -->
    <script src="echarts.js"></script>
</head>
<body style="background-color:#00192E;">                  <!-- 设置页面背景颜色 -->
    <style>
        #main {
            display: flex;
            justify-content: space-between;
            margin: 65px;
            height: 500px
        }
        html,
        body {
          width: 100%;
        }
    </style>
<body>
    <div id="main">
        <div id="description" style="color: ghostwhite">
    </div>

</body>
    <div id="main"></div>
    <script type="text/javascript">
var chartDom = document.getElementById('main');
var myChart = echarts.init(chartDom);
var option;

option = {
  title: {
    text: '缓进急战——筹借军饷',
    left: 'middle',
    textStyle: {
        color: '#eee',
        fontsize: 48
    }
  },
  tooltip: {
    trigger: 'item',
    formatter: '{a} <br/>{b} : {c} ({d}%)'
  },
  legend: {
    orient: 'vertical',
    left: 'right',
    data: ['英商怡和洋行/万两', '英商丽如洋行/万两', '英商汇丰洋行/万两', '户部/万两', '各省协饷/万两'],
    textStyle: {
        color: '#fff',
        fontSize: 16
    }
  },
  series: [
    {
      name: '欠款来源',
      type: 'pie',
      radius: '65%',
      center: ['60%', '50%'],
      data: [
        { value: 100, name: '英商怡和洋行/万两' },
        { value: 200, name: '英商丽如洋行/万两' },
        { value: 200, name: '英商汇丰洋行/万两' },
        { value: 200, name: '户部/万两' },
        { value: 300, name: '各省协饷/万两' }
      ],
      emphasis: {
        itemStyle: {
          shadowBlur: 10,
          shadowOffsetX: 0,
          shadowColor: 'rgba(0, 0, 0, 0.5)'
        }
      }
    }
  ]
};

let currentIndex = -1;

setInterval(function() {
  var dataLen = option.series[0].data.length;
  // 取消之前高亮的图形
  myChart.dispatchAction({
    type: 'downplay',
    seriesIndex: 0,
    dataIndex: currentIndex
  });
  currentIndex = (currentIndex + 1) % dataLen;
  // 高亮当前图形
  myChart.dispatchAction({
    type: 'highlight',
    seriesIndex: 0,
    dataIndex: currentIndex
  });
  // 显示 tooltip
  myChart.dispatchAction({
    type: 'showTip',
    seriesIndex: 0,
    dataIndex: currentIndex
  });
}, 1000);

option && myChart.setOption(option);

</script>
</body>
</html>
